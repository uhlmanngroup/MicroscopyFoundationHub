# Environment: cluster (UZH Science) - paired Lucchi++ + Droso dataset
# Edit paths + results_root as needed.

# ---- I/O ----
train_img_dir: "/home/cfuste/data/datasets/DINO-POC/train/images"
train_mask_dir: "/home/cfuste/data/datasets/DINO-POC/train/masks"
test_img_dir: "/home/cfuste/data/datasets/DINO-POC/test/images"
test_mask_dir: "/home/cfuste/data/datasets/DINO-POC/test/masks"

# results + experiment naming
experiment_id: "ablation_paired_balance_dinov2"
results_root: "/home/cfuste/data/DINO-LoRA/dinov2/"
task_type: "seg"

# paired dataset (filenames include 'lucchi' or 'droso')
dataset:
  type: paired
  params:
    pair_mode: stem
    recursive: false

# ---- model / backbone ----
backbone:
  name: dinov2
  variant: base
  load_backend: torchhub
  weights: null
  repo_dir: null
  preprocess:
    preset: em
dino_size: base
img_size:
  mode: longest_edge
  target: 1022
  patch_multiple: 14
  rounding: floor
num_classes: 2

# ---- LoRA ----
use_lora: false
lora_targets: [attn.qkv, attn.proj]
lora_rank: 16
lora_alpha: 32

# ---- training (overridden by ablation script) ----
batch_size: 2
epochs: 1000
patience: 20
lr: 0.00005
weight_decay: 0.0001
num_workers: 4
device: auto
amp: false

# ---- loss ----
loss: dice
class_weights: [1.0, 15.0]
tversky_alpha: 0.7
tversky_beta: 0.3
tversky_eps: 1.0e-6
tversky_weight: 0.6

# ---- export / viz ----
binarize: true
binarize_threshold: 128
