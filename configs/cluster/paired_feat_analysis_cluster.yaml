# Feature analysis on the cluster using the paired DINO-POC dataset.
#
# Results land in:
#   /home/cfuste/data/DINO-LoRA/feat-analysis/paired-lora/<experiment_id>

experiment_id: "2025-01-05_F1_dinopoc_dinov2-base_lora-r16_feats"
results_root: "/home/cfuste/data/DINO-LoRA"
task_type: "feat-analysis/paired-nolora"

data:
  data_dir: "/home/cfuste/data/datasets/DINO-POC/test/images"

model:
  backbone:
    name: dinov2
    variant: base
    load_backend: torchhub
    weights: null
    repo_dir: null
    preprocess:
      preset: em
  dino_size: "base"
  checkpoint: "/home/cfuste/data/DINO-LoRA/seg/paired-lora/2025-01-01_A2_dinopoc_dinov2-base_lora-r16_seg_pairedgrid24370385_rep1_s2_base/ckpts/best_model.pt"

runtime:
  batch_size: 16
  num_workers: 4
  img_size:
    mode: longest_edge
    target: 1022
    patch_multiple: 14
    rounding: floor
  device: "auto"

pca:
  n_components: 32
  plot_dims: [0, 1]
  whiten: false
  l2norm: false
  seed: 0

umap:
  enabled: true
  pca_dim: 50
  n_neighbors: 15
  min_dist: 0.1
  n_components: 2
  metric: "euclidean"
  seed: 0
