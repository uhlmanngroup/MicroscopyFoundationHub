# Composed dataset (train/test already prepared)
train_img_dir: "/Users/cfuste/Documents/Data/ElectronMicroscopy/composed-dinopeft/train/images"
train_mask_dir: "/Users/cfuste/Documents/Data/ElectronMicroscopy/composed-dinopeft/train/masks"
val_img_dir:   "/Users/cfuste/Documents/Data/ElectronMicroscopy/composed-dinopeft/test/images"
val_mask_dir:  "/Users/cfuste/Documents/Data/ElectronMicroscopy/composed-dinopeft/test/masks"

num_classes: 2
binarize: true
binarize_threshold: 128

# keep sizes modest on MPS
img_size: [224, 224]     # multiple of 14
batch_size: 2
num_workers: 2

# model & LoRA
dino_size: "small"       # vits14
use_lora: true
lora_rank: 4
lora_alpha: 8
lora_targets: ["attn.qkv","attn.proj"]

# device
device: "auto"           # will pick "mps" on your Mac
amp: false               # easiest on MPS unless you added the device-aware AMP patch

# training
epochs: 10
lr: 1.0e-3
weight_decay: 1.0e-4
save_every: 5

# outputs
out_dir: "/Users/cfuste/Documents/Results/DINO-PEFT/composed_local_vits14_lora"
